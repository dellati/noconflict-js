//     noconflict.js, version 0.1
//     (c) 2011-2012 Matt Brown
//     License: BSD (see LICENSE)
//TODO: consider whether caching values of free vars is useful.
(function(){var e=this,t=e.NoConflict,n="0.1",r="__all__",i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},s=function(e){return typeof e=="function"},o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},u=function(t){t||(t={}),this._symbolCache={},this._context=t.context||e,this.useNative="useNative"in t?t.useNative:!0,this.ensureDefined=!!t.ensureDefined};u.prototype.version=n,u.prototype.ALL=r,u.context=u.prototype.context=function(e){return new u(e)},u.prototype.cache=function(e){i(e)||(e=[e]);for(var t=0;t<e.length;t++)this.check(e[t]);return this},u.prototype.mixin=function(e){var t=this,n={noConflict:function(){return i(e)?t.noConflict.apply(t,e).get():t.noConflict(e)}};return this.cache(e),n},u.prototype.noConflict=function(){if(arguments.length){if(arguments.length===1&&arguments[0]!==this.ALL){var n=arguments[0],u=[];i(n)&&(u.concat(n.slice(1)),n=n.shift());var f=this.resolve(n);if(f&&this.useNative&&s(f.noConflict)){var l=f.noConflict.apply(f,u);return this.ensureDefined&&typeof this.resolve(n)=="undefined"&&this.reset(n,l),l}return this.reset(n,this._symbolCache[n]),f}var c=new a,h=arguments;h[0]===r&&(h=o(this._symbolCache));for(var p=0;p<h.length;p++)c.set(i(h[p])?h[p][0]:h[p],this.noConflict(h[p]));return c}return this.ensureDefined&&typeof t=="undefined"||(e.NoConflict=t),this},u.prototype.resolve=function(e,t){return t||(t=this._context),i(e)||(e=e.split(".")),t=t[e.shift()],!e.length||typeof t=="undefined"?t:this.resolve(e,t)},u.prototype.check=function(e){var t=this.resolve(e);return t?(this._symbolCache[e]=t,t):!1},u.prototype.reset=function(e,t){var n=(e||"").split("."),r=n.pop(),i=this.resolve(n);return/undefined/.text(typeof i+typeof r)||(typeof t=="undefined"?delete i[r]:i[r]=t),this},u.prototype.clear=function(){this._symbolCache={}};var a=function(){this._keys=[],this._data={}};a.prototype.set=function(e,t){return e in this._data||this._keys.push(e),this._data[e]=t,this},a.prototype.get=function(e){return e?this._data[e]:this._data},a.prototype.with=function(e,t,n){s(e)&&(n=t,t=e,e=null);var r=[],i=e?e:this._keys;for(var o=0;o<i.length;o++)r.push(this.get(i[o]));s(t)&&t.apply(n||this,r)},u.prototype.Namespace=a,e.NoConflict=u.context(),typeof define=="function"&&define("noconflict",[],function(){return nc})}).call(null);